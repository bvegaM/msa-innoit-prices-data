CREATE TABLE T_PRICES (
  PRI_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  PRI_START_DATE TIMESTAMP,
  PRI_END_DATE TIMESTAMP,
  PRI_PRIORITY INTEGER,
  PRI_PRICE DECIMAL(10, 2),
  PRI_BRAND_ID INTEGER,
  PRI_PRICE_LIST INTEGER,
  PRI_PRODUCT_ID INTEGER,
  PRI_CURR VARCHAR(3)
);

CREATE TABLE T_BRANDS (
  BRA_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  BRA_DESCRIPTION VARCHAR(255)
);

CREATE TABLE T_PRODUCTS (
  PRO_ID INTEGER PRIMARY KEY,
  PRO_DESCRIPTION VARCHAR(255)
);

CREATE TABLE T_PRICE_LISTS (
  PLI_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  PLI_DESCRIPTION VARCHAR(255)
);

CREATE TABLE T_CURRENCIES (
  CUR_CODE VARCHAR(3) PRIMARY KEY,
  CUR_DESCRIPTION VARCHAR(255)
);

CREATE INDEX IDX_T_PRICES_DATE ON T_PRICES (PRI_START_DATE, PRI_END_DATE);

ALTER TABLE T_PRICES ADD CONSTRAINT FK_T_PRICES_BRAND FOREIGN KEY (PRI_BRAND_ID) REFERENCES T_BRANDS (BRA_ID);
ALTER TABLE T_PRICES ADD CONSTRAINT FK_T_PRICES_PRODUCT FOREIGN KEY (PRI_PRODUCT_ID) REFERENCES T_PRODUCTS (PRO_ID);
ALTER TABLE T_PRICES ADD CONSTRAINT FK_T_PRICES_CURR FOREIGN KEY (PRI_CURR) REFERENCES T_CURRENCIES (CUR_CODE);
ALTER TABLE T_PRICES ADD CONSTRAINT FK_T_PRICES_LIST FOREIGN KEY (PRI_PRICE_LIST) REFERENCES T_PRICE_LISTS (PLI_ID);
